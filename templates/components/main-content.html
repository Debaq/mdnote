    <!-- Single dynamic view container -->
    <div id="dynamic-view-container"
         x-data="{
             currentView: $store.ui.currentView,
             init() {
                 this.$watch('$store.ui.currentView', (newView) => {
                     this.currentView = newView;
                     this.loadView();
                 });
                 this.loadView();
             },
             async loadView() {
                 const viewMap = {
                     'chapters': 'templates/components/views/chapters.html',
                     'scenes': 'templates/components/views/scenes.html',
                     'lore': 'templates/components/views/lore.html',
                     'images': 'templates/components/views/images-gallery.html',
                     'versionControl': 'templates/components/views/version-control.html',
                     'publishing': 'templates/components/views/publishing.html',
                     'editor': 'templates/components/views/editor.html',
                     'aiAssistant': 'templates/components/views/ai-assistant.html'
                 };

                 if (viewMap[this.currentView]) {
                     try {
                         // Agregar timestamp para evitar cach√©
                         const url = viewMap[this.currentView] + '?v=' + Date.now();
                         console.log('üìÑ Cargando vista: ' + this.currentView + ' desde ' + url);
                         const response = await fetch(url, { cache: 'no-store' });
                         const html = await response.text();
                         console.log('‚úÖ Vista ' + this.currentView + ' cargada, tama√±o: ' + html.length + ' caracteres');
                         console.log('üîç Contiene heart-pulse: ' + html.includes('heart-pulse'));
                         console.log('üîç Contiene vitalStatus: ' + html.includes('vitalStatus'));
                        // Extract and execute scripts before setting innerHTML
                         const tempDiv = document.createElement('div');
                         tempDiv.innerHTML = html;
                         const scripts = tempDiv.querySelectorAll('script');
                         const htmlWithoutScripts = html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '');

                         this.$el.innerHTML = htmlWithoutScripts;
                         if (window.Alpine) window.Alpine.initTree(this.$el);

                         // Execute scripts after Alpine initializes
                         scripts.forEach(script => {
                             const newScript = document.createElement('script');
                             if (script.src) {
                                 newScript.src = script.src;
                             } else {
                                 newScript.textContent = script.textContent;
                             }
                             document.body.appendChild(newScript);
                             document.body.removeChild(newScript);
                         });
                         // Reinitializar iconos de Lucide
                         if (typeof lucide !== 'undefined') {
                             setTimeout(function() { lucide.createIcons(); }, 100);
                         }
                     } catch (error) {
                         console.error('Error loading view: ' + this.currentView, error);
                     }
                 }
             }
         }">
        <!-- Current view content will be loaded here -->
    </div>
