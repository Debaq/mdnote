<!-- New Project Modal -->
<div class="legacy-modal" :class="{ 'active': $store.ui.modals.newProject }">
    <div class="legacy-modal-content">
        <div class="legacy-modal-header">
            <h2 x-text="$store.i18n.t('modals.newProject.title')">Nuevo Proyecto</h2>
            <button class="btn-close" @click="$store.ui.closeModal('newProject'); $store.ui.openModal('welcome')">
                <i data-lucide="x" width="20" height="20"></i>
            </button>
        </div>
        <div class="modal-body">
            <form @submit.prevent="
                const projectInfo = {
                    title: $el.querySelector('[name=title]').value,
                    author: $el.querySelector('[name=author]').value,
                    genre: $el.querySelector('[name=genre]').value,
                    isPublicPC: $el.querySelector('[name=isPublicPC]').checked
                };
                $store.project.createNewProject(projectInfo);
                $store.ui.closeModal('newProject');
                $store.ui.success($store.i18n.t('notifications.success.projectCreated'), '');
                $store.ui.markAsVisited();
                $el.reset();
            ">
                <div class="form-group">
                    <label x-text="$store.i18n.t('modals.newProject.form.title')">Título de la Novela</label>
                    <input type="text" name="title" required :placeholder="$store.i18n.t('modals.newProject.form.titlePlaceholder')">
                </div>
                <div class="form-group">
                    <label x-text="$store.i18n.t('modals.newProject.form.author')">Autor</label>
                    <input type="text" name="author" :placeholder="$store.i18n.t('modals.newProject.form.authorPlaceholder')">
                </div>
                <div class="form-group">
                    <label x-text="$store.i18n.t('modals.newProject.form.genre')">Género</label>
                    <input type="text" name="genre" :placeholder="$store.i18n.t('modals.newProject.form.genrePlaceholder')">
                </div>
                <div class="form-divider"></div>
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" name="isPublicPC">
                        <span x-text="$store.i18n.t('modals.newProject.form.isPublicPC')">Estoy usando un PC público</span>
                    </label>
                    <p class="hint" x-text="$store.i18n.t('modals.newProject.form.publicPCWarning')">No se guardarán datos automáticamente</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" @click="$store.ui.closeModal('newProject'); $store.ui.openModal('welcome')" x-text="$store.i18n.t('common.cancel')">Cancelar</button>
                    <button type="submit" class="btn-primary" x-text="$store.i18n.t('common.create')">Crear</button>
                </div>
            </form>
        </div>
    </div>
</div>