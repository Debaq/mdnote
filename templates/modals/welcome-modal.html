<!-- Welcome Modal -->
<div class="legacy-modal" x-data="welcomeModalComponent()" :class="{ 'active': $store.ui.modals.welcome }">
    <div class="legacy-modal-content">
        <div class="legacy-modal-header" style="flex-direction: column; text-align: center; padding: 32px;">
            <div class="welcome-logo">
                <i data-lucide="pen-line" width="32" height="32"></i>
            </div>
            <h2 x-text="$store.i18n.t('modals.welcome.title')">Â¡Bienvenido a PlumaAI!</h2>
            <p class="subtitle" x-text="$store.i18n.t('modals.welcome.subtitle')">Editor de novelas con inteligencia artificial</p>

            <!-- Language Selector -->
            <div class="language-selector" style="margin-top: 24px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 500;" x-text="$store.i18n.t('modals.welcome.selectLanguage')">Selecciona tu idioma:</label>
                <div style="display: flex; gap: 12px; justify-content: center;">
                    <button
                        @click="selectLanguage('es')"
                        class="language-btn"
                        :class="{ 'selected': selectedLanguage === 'es' }"
                        style="padding: 12px 24px; border: 2px solid var(--border); border-radius: 8px; background: var(--background); cursor: pointer; display: flex; align-items: center; gap: 8px; transition: all 0.2s;"
                    >
                        <span style="font-size: 24px;">ðŸ‡ªðŸ‡¸</span>
                        <span>EspaÃ±ol</span>
                    </button>
                    <button
                        @click="selectLanguage('en')"
                        class="language-btn"
                        :class="{ 'selected': selectedLanguage === 'en' }"
                        style="padding: 12px 24px; border: 2px solid var(--border); border-radius: 8px; background: var(--background); cursor: pointer; display: flex; align-items: center; gap: 8px; transition: all 0.2s;"
                    >
                        <span style="font-size: 24px;">ðŸ‡¬ðŸ‡§</span>
                        <span>English</span>
                    </button>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="welcome-actions">
                <!-- BotÃ³n para continuar con proyecto existente si hay alguno -->
                <template x-if="$store.ui.lastProject">
                    <button class="welcome-btn primary" @click="loadLastProject()">
                        <i data-lucide="folder-open" width="24" height="24"></i>
                        <span x-text="$store.i18n.t('modals.welcome.continueProject', { projectName: $store.ui.lastProject.title || 'Proyecto sin tÃ­tulo' })">Continuar con "<span x-bind:text="$store.ui.lastProject?.title || 'Proyecto sin tÃ­tulo'"></span>"</span>
                    </button>
                </template>

                <button class="welcome-btn" @click="$store.ui.closeModal('welcome'); $store.ui.openModal('newProject')">
                    <i data-lucide="plus-circle" width="24" height="24"></i>
                    <span x-text="$store.i18n.t('modals.welcome.newProject')">Crear Nuevo Proyecto</span>
                </button>
                <button class="welcome-btn" @click="$store.ui.closeModal('welcome'); $store.ui.openModal('import')">
                    <i data-lucide="upload" width="24" height="24"></i>
                    <span x-text="$store.i18n.t('modals.welcome.loadProject')">Cargar Proyecto Existente</span>
                </button>
                <button class="welcome-btn" @click="loadDemoProject()">
                    <i data-lucide="eye" width="24" height="24"></i>
                    <span x-text="$store.i18n.t('modals.welcome.justLook')">Solo Mirar</span>
                </button>
            </div>
        </div>
    </div>
</div>